function A(n){var s=n.match(/^(?:(\d+)\s+)?(.*?)((?:\s-[A-Za-z]+(?:=\S*)?)*)?$/),c=isNaN(a)?1:a,r=t(s[3]),o=r.get('l');if(s==null)return;const a=parseInt(s[1]);r.delete('l');return{name:s[2],quantity:c,language:o,customFlags:r}}function t(t){const n=new Map();if(!t)return n;var s=t.matchAll(/\s-([a-zA-Z]+)(?:=(\S*))?/g);s.forEach(t=>n.set(t[1],t[2]||'true'));return n}var e=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/,n=/^[\dA-Za-z]{3,5}\/[^/]+(?:\/(?:[A-Za-z]{2,3})?)?$/,a=['en','es','fr','de','it','pt','ja','ko','ru','zhs','zht'],f='https://api.scryfall.com';function o(e){return new Promise(n=>setTimeout(n,e))}async function h(s){let o;if(e.test(s.name))o=`https://api.scryfall.com/cards/${s.name}`;else if(n.test(s.name)){let e=s.name;(s.language!=void 0&&a.includes(s.language))&&(e=s.name.split('/').slice(0,2).join('/')+`/${s.language}`);o=`${f}/cards/${e}`}else o=`${f}/cards/named/?fuzzy=${encodeURIComponent(s.name)}`;var c=fetch(o);var r=await c;if(r.ok)return await r.json()}async function i(e){return await Promise.all(e.map((e,n)=>o(n*100).then(()=>h(e))))}function j(e,n){const a=[];e.forEach((e,t)=>{a.push(o(t*100).then(()=>h({name:e.name,quantity:e.quantity,language:e.language,customFlags:e.customFlags}).then(a=>n(e,a))))});return Promise.all(a).then()}
