function A(n){const s=n.match(/^(?:(\d+)\s+)?(.*?)((?:\s-[A-Za-z]+(?:=\S*)?)*)?$/),c=isNaN(a)?1:a,r=t(s[3]),o=r.get('l');if(s==null)return;const a=parseInt(s[1]);r.delete('l');return{name:s[2],quantity:c,language:o,customFlags:r}}function t(t){var n=new Map();if(!t)return n;const s=t.matchAll(/\s-([a-zA-Z]+)(?:=(\S*))?/g);s.forEach(t=>n.set(t[1],t[2]||'true'));return n}var a=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/,e=/^[\dA-Za-z]{3,5}\/[^/]+(?:\/(?:[A-Za-z]{2,3})?)?$/,_=['en','es','fr','de','it','pt','ja','ko','ru','zhs','zht'];function s(a){return new Promise(e=>setTimeout(e,a))}async function g(n){let s;if(a.test(n.name))s=`https://api.scryfall.com/cards/${n.name}`;else if(e.test(n.name)){let a=n.name;(n.language!=void 0&&_.includes(n.language))&&(a=n.name.split('/').slice(0,2).join('/')+`/${n.language}`);s=`https://api.scryfall.com/cards/${a}`}else s=`https://api.scryfall.com/cards/named/?fuzzy=${encodeURIComponent(n.name)}`;var c=fetch(s);var o=await c;return await o.json()}async function h(a){return await Promise.all(a.map((a,e)=>s(e*100).then(()=>g(a)))).then(a=>a.flat())}
